<div class="form-row">
    <label for="{{ field_name }}">{{ field_label }}:</label>
    <div style="display: flex; align-items: center; gap: 10px;">
        <input type="color" name="{{ field_name }}" id="{{ field_name }}" {% if required %}required{% endif %} value="{{ value if value else '#000000' }}">
        <span id="{{ field_name }}_display" style="font-family: monospace;">{{ value if value else '#000000' }}</span>
    </div>
</div>
<script>
    (function() {
        const colorInput = document.getElementById('{{ field_name }}');
        const displaySpan = document.getElementById('{{ field_name }}_display');
        if (colorInput && displaySpan) {
            colorInput.addEventListener('input', function() {
                displaySpan.textContent = this.value.toUpperCase();
            });
        }
    })();
</script>
